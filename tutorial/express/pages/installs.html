<!-- @format -->

<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>Document</title>
    </head>
    <body>
        express-messages, express-session, connect-flash, express-validator
        <fieldset>
            <code>
                <pre>
//Express express-session

app.use(session({
    secret: "Keyboard Cat",
    resave: false,
    saveUninitialized: true,
    cookie: { secure: true }
}))

//Express express-messages
app.use(require('connect-flash')())
app.use(function (req, res, next) {
    res.locals.messages = require("express-messages")(req, res);
    next();
})

//Express Validator
app.use(expressValidator({
    errorFormatter: function(param, msg, value) {
        let namespace = param.split(".")
        , root = namespace.shift()
        , formParam = root;

        while(namespace.length) {
            formParam += '[' + namespace.shift() + ']';
        }
        return {
            param: formParam,
            msg: msg,
            value: value
        }
    }
}))
                </pre>
            </code>
        </fieldset>
    </body>
</html>
